package Main.Ordine;

import java.time.LocalDate;
import java.util.List;
import java.util.Random;

import javax.persistence.Entity;
import javax.persistence.EnumType;
import javax.persistence.Enumerated;
import javax.persistence.Id;
import javax.persistence.Table;

import Articolo.ArticoloMenu;
import Enum.StatoOrdine;

@Entity
@Table(name = "ordini")
public class Ordine {

	@Id
	private Long numeroOrdine;
	
	private List<ArticoloMenu> ordinazione;
	
	@Enumerated(EnumType.STRING)
	private StatoOrdine stato;
	private Integer numeroCoperti;
	private LocalDate oraAcquisizione;
	
	public Ordine(Long numeroOrdine, List<ArticoloMenu> ordinazione, StatoOrdine stato, Integer numeroCoperti,
			LocalDate oraAcquisizione) {
		super();
		this.numeroOrdine = numeroOrdine;
		this.ordinazione = ordinazione;
		this.stato = stato;
		this.numeroCoperti = numeroCoperti;
		this.oraAcquisizione = oraAcquisizione;
	}

	public Ordine() {
		super();
	}

	public Long getNumeroOrdine() {
		return numeroOrdine;
	}

	public void setNumeroOrdine(Long numeroOrdine) {
		
		Long num = System.currentTimeMillis();
		Random rnum = new Random(num);
		Long isbn = Math.abs(rnum.nextLong()) % 9000000000000L + 1000000000000L;
		isbn *= 10L;
		this.numeroOrdine = isbn;
	}

	public List<ArticoloMenu> getOrdinazione() {
		return ordinazione;
	}

	public void setOrdinazione(List<ArticoloMenu> ordinazione) {
		this.ordinazione = ordinazione;
	}

	public StatoOrdine getStato() {
		return stato;
	}

	public void setStato(StatoOrdine stato) {
		this.stato = stato;
	}

	public Integer getNumeroCoperti() {
		return numeroCoperti;
	}

	public void setNumeroCoperti(Integer numeroCoperti) {
		System.out.println("Inserisci il numero di coperti");
		this.numeroCoperti = numeroCoperti;
	}

	public LocalDate getOraAcquisizione() {
		return oraAcquisizione;
	}

	public void setOraAcquisizione(LocalDate oraAcquisizione) {
		this.oraAcquisizione = oraAcquisizione;
	}
	
	
}
